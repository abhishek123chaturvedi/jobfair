<% include ../partials/header.html %>

<div id="wrapper">

    <!-- Navigation -->

    <div id="page-wrapper">

        <div class="container-fluid">

            <!-- Page Heading -->
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">
                        Area Listing <small>Statistics Overview</small>
                    </h1>
                    <ol class="breadcrumb">
                        <li class="active">
                            <i class="fa fa-dashboard"></i> Area Listing
                            <a class="text-right add-area" href="javascript:;">Add Area</a>
                        </li>
                    </ol>
                </div>
            </div>
            <!-- /.row -->
            <% if (area.length > 0) {%>
            <div class="row">
                <div class="col-md-12">
                    <table class="table">
                        <thead>
                        <tr>
                            <th>S.No</th>
                            <th>Area Name</th>
                            <th>City Name</th>
                            <th>Action</th>
                        </tr>
                        </thead>
                        <tbody>
                        <% for (var i = 0; i< area.length ; i++) {%>
                        <tr>
                            <td><%=(i+1)%></td>
                            <td><%=area[i].name%></td>
                            <td><%=area[i].city_id.name%></td>
                            <td>
                                <a href="javascript:;" class="edit-area" data-id = "<%=area[i]._id%>">Edit</a>
                                <% if(user_role == "admin") {%>
                                <a href="javascript:;" data-id = "<%=area[i]._id%>" class="delete-area">Delete</a>
                                <% } %>
                                <% if(state[i].is_active) { %>
                                <a href="javascript:;" data-id = "<%=area[i]._id%>" class="update-status-area">Disable</a>
                                <%} else {%>
                                <a href="javascript:;" data-id = "<%=area[i]._id%>" class="update-status-area">Enable</a>
                                <% } %>
                            </td>
                        </tr>
                        <% } %>
                        </tbody>
                    </table>
                    <!-- /. Table-->
                </div>
            </div>
            <!-- /.row -->
            <% }else { %>
            <p>No area present</p>
            <% } %>
        </div>
        <!-- /.container-fluid -->
    </div>
    <!-- /#page-wrapper -->
</div>
<!-- /#wrapper -->

<!-- Modal for add state-->

<div class="modal fade" id="addAreaModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Add Area</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <form id="addArea">
                            <div class="form-group row">
                                <label class="col-md-3">Name *</label>
                                <div class="col-md-9 ">
                                    <input type="text" class="form-control area_name" autofocus name="name" id="name">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-md-3">City *</label>
                                <div class="col-md-9 ">
                                    <select name = "cityDropdown" class="city-dropdown-for-area form-control">

                                    </select>
                                </div>
                            </div>

                            <div class="form-group row">
                                <div class="col-sm-9 col-md  col-md-offset-3">
                                    <button class="btn btn-primary save-country" type="submit"><i class="fa"></i>Save</button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--./ add state modal-->

<!--edit state modal-->

<div class="modal fade" id="editAreaModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Edit Area</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <form id="editArea">
                            <input type="hidden" class="form-control edit_state_id" autofocus name="area_id" id="area_id">
                            <div class="form-group row">
                                <label class="col-md-3">Name *</label>
                                <div class="col-md-9 ">
                                    <input type="text" class="form-control edit_area_name" autofocus name="name" id="name">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-md-3">Country *</label>
                                <div class="col-md-9 ">
                                    <select name = "cityDropdown" class="city-dropdown-for-edit-area form-control">

                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-9 col-md  col-md-offset-3">
                                    <button class="btn btn-primary" type="submit"><i class="fa"></i>Save</button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--./ edit state modal-->

<% include ../partials/footer.html %>
